<script>
let params = new URLSearchParams(document.location.search);
let id = params.get("id");
let download_url = params.get("download_url");

let proxy = "https://proxy.corsfix.com/?";
let ajax_url = proxy + "https://soundideas.sourceaudio.com/ajax.php";

const url = new URL(ajax_url);
const xhr_params = new URLSearchParams(
{
	p: "download_auth",
	trackId: id
})

const xhr = new XMLHttpRequest();

xhr.open('GET', url + "?" + xhr_params.toString());
xhr.responseType = 'json';

xhr.onload = () => doIt(xhr.response);
xhr.onerror = () => error();
xhr.send();

function doIt(response)
{
	if(json.error)
	{
		error();
		return;
	}
		
	window.location.replace(download_url + "?" + response.content[0].params);
}

function error()
{
	document.documentElement.innerHTML = "An error has occured, please check the console"
}
</script> 

<noscript>Sorry, your browser does not support JavaScript!</noscript> 